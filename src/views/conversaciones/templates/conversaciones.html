{% extends 'base.html' %}

{% block content %}
<div class="container py-5">
    <div class="bg-white rounded shadow p-4">

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show text-center" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        
        <h2>Foro de Conflictos</h2>
        <p class="text-muted">Selecciona un conflicto para ver o iniciar conversaciones.</p>

        <div class="list-group mt-4">
            {% for c in conflictos %}
                <a href="{{ url_for('conversaciones.foro_conflicto', conflicto_id=c.id) }}" class="list-group-item list-group-item-action">
                    <strong>{{ c.titulo }}</strong><br>
                    <small>{{ c.descripcion or "Sin descripci√≥n" }}</small>
                </a>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
